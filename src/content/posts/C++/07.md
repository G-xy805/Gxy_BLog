---
title: 7.é™¤äº†å¤šæ€å’Œç»§æ‰¿è¿˜æœ‰ä»€ä¹ˆé¢å‘å¯¹è±¡æ–¹æ³•
order: 7
description: ä»‹ç»é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­é™¤äº†å¤šæ€å’Œç»§æ‰¿ä¹‹å¤–çš„é‡è¦æ–¹æ³•ï¼ŒåŒ…æ‹¬å°è£…ã€æŠ½è±¡ã€ç»„åˆç­‰æ ¸å¿ƒæ¦‚å¿µåŠç›¸å…³çš„è®¾è®¡åŸåˆ™ã€‚
published: '2026-01-23'
image: /assets/images/cpp-logo.webp
tags:
- C++
- é¢å‘å¯¹è±¡
- å°è£…
- æŠ½è±¡
category: C++
---

# ğŸ—ï¸ é¢å‘å¯¹è±¡ç¼–ç¨‹æ ¸å¿ƒæ–¹æ³•è¯¦è§£

## ğŸ“– å†…å®¹æ¦‚è§ˆ

é™¤äº†å¤šæ€å’Œç»§æ‰¿ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹è¿˜åŒ…å«å…¶ä»–é‡è¦çš„æ–¹æ³•å’Œè®¾è®¡åŸåˆ™ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å°è£…ã€æŠ½è±¡ã€ç»„åˆç­‰æ ¸å¿ƒæ¦‚å¿µï¼Œä»¥åŠç›¸å…³çš„SOLIDè®¾è®¡åŸåˆ™ï¼Œå¸®åŠ©ç†è§£é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å®Œæ•´ä½“ç³»ã€‚

## ğŸ¯ é¢å‘å¯¹è±¡æ ¸å¿ƒæ–¹æ³•

### ğŸ“¦ 1. å°è£… (Encapsulation)

**å®šä¹‰**ï¼šå°†æ•°æ®å’Œè¡Œä¸ºå°è£…åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œå¹¶å¯¹å¤–æä¾›å…¬å…±æ¥å£ã€‚

**ç›®çš„**ï¼š
- éšè—å†…éƒ¨å®ç°ç»†èŠ‚
- é¿å…ç›´æ¥è®¿é—®æ•°æ®å¯¼è‡´çš„é”™è¯¯
- æä¾›ç»Ÿä¸€çš„è®¿é—®æ§åˆ¶

**å®ç°æ–¹å¼**ï¼š
- ä½¿ç”¨ç§æœ‰æˆå‘˜å˜é‡ä¿æŠ¤æ•°æ®
- é€šè¿‡å…¬æœ‰æ–¹æ³•æä¾›æ•°æ®è®¿é—®
- æ§åˆ¶æ•°æ®çš„è¯»å†™æƒé™

**ç¤ºä¾‹ä»£ç **ï¼š
```cpp
class BankAccount {
private:
    double balance;  // ç§æœ‰æ•°æ®ï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®
    
public:
    // å…¬å…±æ¥å£ï¼Œæä¾›å—æ§è®¿é—®
    void deposit(double amount) {
        if(amount > 0) {
            balance += amount;
        }
    }
    
    double getBalance() const {
        return balance;
    }
};
```

### ğŸ­ 2. æŠ½è±¡ (Abstraction)

**å®šä¹‰**ï¼šé€šè¿‡æŠ½è±¡ç±»æˆ–æ¥å£å®šä¹‰é€šç”¨çš„è¡Œä¸ºè§„èŒƒï¼Œå¹¶ç”±å…·ä½“çš„å­ç±»å®ç°å…·ä½“ç»†èŠ‚ã€‚

**ç›®çš„**ï¼š
- éšè—å¤æ‚çš„å®ç°ç»†èŠ‚
- æä¾›æ¸…æ™°çš„æ¥å£å®šä¹‰
- æé«˜ä»£ç å¤ç”¨æ€§å’Œå¯æ‰©å±•æ€§

**å®ç°æ–¹å¼**ï¼š
- ä½¿ç”¨æŠ½è±¡ç±»å®šä¹‰çº¯è™šå‡½æ•°
- å®šä¹‰æ¥å£è§„èŒƒ
- è®©å­ç±»å®ç°å…·ä½“é€»è¾‘

**ç¤ºä¾‹ä»£ç **ï¼š
```cpp
class Shape {
public:
    virtual double area() const = 0;  // çº¯è™šå‡½æ•°
    virtual double perimeter() const = 0;
    virtual ~Shape() = default;
};

class Circle : public Shape {
private:
    double radius;
public:
    Circle(double r) : radius(r) {}
    
    double area() const override {
        return 3.14159 * radius * radius;
    }
    
    double perimeter() const override {
        return 2 * 3.14159 * radius;
    }
};
```

### ğŸ”— 3. ç»„åˆ (Composition)

**å®šä¹‰**ï¼šé€šè¿‡ç»„åˆä¸åŒç±»æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œä»è€Œå®ç°æ›´å¤æ‚çš„åŠŸèƒ½ã€‚

**ç›®çš„**ï¼š
- å®ç°ä»£ç å¤ç”¨
- åˆ›å»ºæ›´å¤æ‚çš„å¯¹è±¡ç»“æ„
- æé«˜ç³»ç»Ÿçš„çµæ´»æ€§

**ç¤ºä¾‹ä»£ç **ï¼š
```cpp
class Engine {
public:
    void start() { /* å‘åŠ¨æœºå¯åŠ¨é€»è¾‘ */ }
    void stop() { /* å‘åŠ¨æœºåœæ­¢é€»è¾‘ */ }
};

class Tire {
public:
    void inflate() { /* è½®èƒå……æ°”é€»è¾‘ */ }
};

class Car {
private:
    Engine engine;      // ç»„åˆå‘åŠ¨æœº
    Tire tires[4];      // ç»„åˆå››ä¸ªè½®èƒ
    std::string brand;
    
public:
    void startCar() {
        engine.start();  // ä½¿ç”¨ç»„åˆçš„å¼•æ“
    }
    
    void inflateTires() {
        for(auto& tire : tires) {
            tire.inflate();
        }
    }
};
```

## ğŸ“ SOLID è®¾è®¡åŸåˆ™

### ğŸ§± 4. æ¥å£éš”ç¦»åŸåˆ™ (Interface Segregation Principle - ISP)

**å®šä¹‰**ï¼šå°†å¤§å‹æ¥å£åˆ†è§£ä¸ºæ›´å°ã€æ›´ä¸“ä¸€çš„æ¥å£ï¼Œé¿å…å®¢æˆ·ç«¯ä¾èµ–äºä¸éœ€è¦ä½¿ç”¨çš„æ–¹æ³•ã€‚

**ç›®çš„**ï¼š
- é¿å…å¼ºè¿«å®¢æˆ·ç«¯å®ç°ä¸éœ€è¦çš„æ–¹æ³•
- æé«˜æ¥å£çš„å†…èšæ€§
- é™ä½è€¦åˆåº¦

**ç¤ºä¾‹ä»£ç **ï¼š
```cpp
// åçš„è®¾è®¡ï¼šå•ä¸€èƒ–æ¥å£
class Machine {
public:
    virtual void print() = 0;
    virtual void scan() = 0;
    virtual void fax() = 0;
};

// å¥½çš„è®¾è®¡ï¼šåˆ†ç¦»æ¥å£
class Printer {
public:
    virtual void print() = 0;
};

class Scanner {
public:
    virtual void scan() = 0;
};

class MultiFunctionPrinter : public Printer, public Scanner {
public:
    void print() override { /* å®ç°æ‰“å° */ }
    void scan() override { /* å®ç°æ‰«æ */ }
};
```

### ğŸ”„ 5. ä¾èµ–å€’ç½®åŸåˆ™ (Dependency Inversion Principle - DIP)

**å®šä¹‰**ï¼šé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼Œå®ƒä»¬éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚

**ç›®çš„**ï¼š
- å‡å°‘æ¨¡å—é—´çš„è€¦åˆåº¦
- æé«˜ä»£ç çµæ´»æ€§å’Œå¯é‡ç”¨æ€§
- ä¾¿äºå•å…ƒæµ‹è¯•å’Œæ¨¡å—æ›¿æ¢

**ç¤ºä¾‹ä»£ç **ï¼š
```cpp
// æŠ½è±¡å±‚
class NotificationService {
public:
    virtual void sendNotification(const std::string& message) = 0;
    virtual ~NotificationService() = default;
};

// ä½å±‚æ¨¡å—
class EmailService : public NotificationService {
public:
    void sendNotification(const std::string& message) override {
        // é‚®ä»¶å‘é€é€»è¾‘
    }
};

class SMSService : public NotificationService {
public:
    void sendNotification(const std::string& message) override {
        // çŸ­ä¿¡å‘é€é€»è¾‘
    }
};

// é«˜å±‚æ¨¡å— - ä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°
class UserService {
private:
    std::unique_ptr<NotificationService> notifier;
    
public:
    UserService(std::unique_ptr<NotificationService> service) 
        : notifier(std::move(service)) {}
    
    void userAction() {
        notifier->sendNotification("User action occurred");
    }
};
```

## ğŸ§© å…¶ä»–é‡è¦æ¦‚å¿µ

### ğŸ”„ èšåˆ (Aggregation)
- æ˜¯ç»„åˆçš„ä¸€ç§ç‰¹æ®Šå½¢å¼
- æ•´ä½“å’Œéƒ¨åˆ†å¯ä»¥ç‹¬ç«‹å­˜åœ¨
- è¡¨ç¤º"has-a"å…³ç³»

### ğŸ§± å•ä¸€èŒè´£åŸåˆ™ (SRP)
- ä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› 
- æé«˜ç±»çš„å†…èšæ€§
- é™ä½ç±»çš„å¤æ‚åº¦

### ğŸ”„ å¼€é—­åŸåˆ™ (OCP)
- å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
- é€šè¿‡æŠ½è±¡å’Œç»§æ‰¿å®ç°å¯æ‰©å±•æ€§
- æé«˜ç³»ç»Ÿçš„ç¨³å®šæ€§

## ğŸ“Š é¢å‘å¯¹è±¡æ–¹æ³•å¯¹æ¯”

| æ–¹æ³• | ä¸»è¦ç›®çš„ | å®ç°æ–¹å¼ | åº”ç”¨åœºæ™¯ |
|------|----------|----------|----------|
| **å°è£…** | æ•°æ®ä¿æŠ¤å’Œè®¿é—®æ§åˆ¶ | ç§æœ‰æˆå‘˜ + å…¬å…±æ¥å£ | éœ€è¦æ•°æ®å®‰å…¨çš„åœºæ™¯ |
| **æŠ½è±¡** | éšè—å®ç°ç»†èŠ‚ | æŠ½è±¡ç±»/æ¥å£ | å®šä¹‰é€šç”¨è¡Œä¸ºè§„èŒƒ |
| **ç»„åˆ** | åŠŸèƒ½å¤ç”¨å’Œå¤æ‚ç»“æ„ | åŒ…å«å…¶ä»–ç±»å¯¹è±¡ | æ„å»ºå¤æ‚å¯¹è±¡ |
| **ç»§æ‰¿** | ä»£ç å¤ç”¨å’Œå¤šæ€ | æ´¾ç”Ÿç±»ç»§æ‰¿åŸºç±» | ç›¸ä¼¼åŠŸèƒ½çš„æ‰©å±• |

## ğŸ’¡ æ ¸å¿ƒè¦ç‚¹æ€»ç»“

- **å°è£…**ï¼šé€šè¿‡è®¿é—®æ§åˆ¶ä¿æŠ¤æ•°æ®å®Œæ•´æ€§
- **æŠ½è±¡**ï¼šå®šä¹‰é€šç”¨æ¥å£ï¼Œéšè—å®ç°ç»†èŠ‚
- **ç»„åˆ**ï¼šé€šè¿‡ç»„åˆå®ç°ä»£ç å¤ç”¨å’ŒåŠŸèƒ½æ‰©å±•
- **è®¾è®¡åŸåˆ™**ï¼šSOLIDåŸåˆ™æŒ‡å¯¼é«˜è´¨é‡ä»£ç è®¾è®¡
- **ä¾èµ–å€’ç½®**ï¼šé«˜å±‚æ¨¡å—ä¾èµ–æŠ½è±¡è€Œéå…·ä½“å®ç°

è¿™äº›é¢å‘å¯¹è±¡æ–¹æ³•å’Œè®¾è®¡åŸåˆ™å…±åŒæ„æˆäº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å®Œæ•´ä½“ç³»ï¼Œå¸®åŠ©æˆ‘ä»¬ç¼–å†™é«˜è´¨é‡ã€æ˜“äºç»´æŠ¤ã€å¯æ‰©å±•å’Œçµæ´»çš„ä»£ç ã€‚
